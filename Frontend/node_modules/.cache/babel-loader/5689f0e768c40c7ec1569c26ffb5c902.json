{"ast":null,"code":"import _regeneratorRuntime from\"/home/asdar/xtremax1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/asdar/xtremax1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/asdar/xtremax1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{IoCaretDown,IoCaretUp}from\"react-icons/io5\";import'./Menu.css';import $ from\"jquery\";import api from'../../api/locations';import{useDispatch,useSelector}from'react-redux';import{setLocations,setSeleceted}from'../../redux/action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var dispatch=useDispatch();var AllLocations=useSelector(function(state){return state.locations;});var selected=useSelector(function(state){return state.selected;});$(document).ready(function(){$(\".list\").on(\"click\",\".content\",function(){$(\".content\").removeClass(\"selected\");$(this).addClass(\"selected\");});});//function set selected loation on click\nvar handleClick=function handleClick(id,lat,lng,name,pic,place,address,link,desc){dispatch(setSeleceted({id:id,lat:lat,lng:lng,name:name,pic:pic,place:place,address:address,link:link,desc:desc}));};//function ambil data dari json-server\nvar getLocations=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get(\"/data\");case 2:response=_context.sent;dispatch(setLocations(response.data));//kirim data ke redux\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return function getLocations(){return _ref.apply(this,arguments);};}();//remove class selected on landmark menu list when no landmark selected\nvar removeSelected=function removeSelected(){$(document).ready(function(){$(\".content\").removeClass(\"selected\");});};//\nvar addSelected=function addSelected(id){$(document).ready(function(){$(\".content\").removeClass(\"selected\");$(\"#\".concat(id)).addClass(\"selected\");});};console.log('selected = ',selected);useEffect(function(){getLocations();//call function getlocation on render\n},[]);useEffect(function(){if(selected.length===0)removeSelected();},[selected]);useEffect(function(){if(selected)addSelected(selected.id);},[selected]);return/*#__PURE__*/_jsx(\"div\",{style:{height:'100vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter\",children:/*#__PURE__*/_jsx(\"select\",{children:/*#__PURE__*/_jsx(\"option\",{children:\"Filter by favorite\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"landmark\",children:AllLocations.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return handleClick(data.id,data.lat,data.lng,data.name,data.pic,data.place,data.address,data.link,data.desc);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",id:data.id,children:[data.name,data.place?/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setIsOpen(!isOpen);},children:isOpen?/*#__PURE__*/_jsx(IoCaretUp,{}):/*#__PURE__*/_jsx(IoCaretDown,{})}):null]})}),data.place&&isOpen?/*#__PURE__*/_jsx(\"ul\",{className:\"drop-menu\",children:data.place.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:item},index);})}):null]},index);})})]})});}export default Menu;","map":{"version":3,"sources":["/home/asdar/xtremax1/Frontend/src/Components/Menu/Menu.js"],"names":["React","useEffect","useState","IoCaretDown","IoCaretUp","$","api","useDispatch","useSelector","setLocations","setSeleceted","Menu","isOpen","setIsOpen","dispatch","AllLocations","state","locations","selected","document","ready","on","removeClass","addClass","handleClick","id","lat","lng","name","pic","place","address","link","desc","getLocations","get","response","data","removeSelected","addSelected","console","log","length","height","map","index","item"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { IoCaretDown, IoCaretUp} from \"react-icons/io5\";\nimport './Menu.css'\nimport $ from \"jquery\";\nimport api from '../../api/locations'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setLocations, setSeleceted } from '../../redux/action';\n\nfunction Menu() {\n    const [isOpen, setIsOpen] = useState(true)\n    const dispatch = useDispatch()\n    const AllLocations = useSelector(state=>state.locations)\n    const selected = useSelector(state=>state.selected)\n    \n    $(document).ready(function () {\n        $(\".list\").on(\"click\", \".content\", function () {\n          $(\".content\").removeClass(\"selected\");\n          $(this).addClass(\"selected\");\n        });\n      });\n\n    //function set selected loation on click\n    const handleClick = (id,lat,lng,name,pic,place,address,link,desc) =>{\n        dispatch(setSeleceted({id,lat,lng,name,pic,place,address,link,desc}))\n    }\n\n    //function ambil data dari json-server\n    const getLocations = async()=>{\n        const response = await api.get(\"/data\")\n        dispatch(setLocations(response.data)) //kirim data ke redux\n    }\n\n    //remove class selected on landmark menu list when no landmark selected\n    const removeSelected = () =>{\n       $(document).ready(function () {\n            $(`.content`).removeClass(\"selected\");\n        });\n    }\n    //\n    const addSelected = (id) =>{\n        $(document).ready(function () {\n            $(\".content\").removeClass(\"selected\");\n            $(`#${id}`).addClass(\"selected\");\n        });\n    }\n   console.log('selected = ',selected)\n    useEffect(()=>{\n        getLocations() //call function getlocation on render\n    },[])\n\n    useEffect(()=>{\n     if (selected.length === 0)(removeSelected())\n    },[selected])\n\n    useEffect(()=>{\n        if (selected) (addSelected(selected.id))\n    },[selected])\n\n    return (\n        <div style={{height:'100vh'}}>\n            <div className='menu'>\n                <div className='filter'>\n                    <select>\n                        <option>Filter by favorite</option>\n                    </select>\n                </div>\n                <div className='landmark'>\n                    {/* map data from local server */}\n                    {\n                        AllLocations.map((data,index)=>(\n                            <div onClick={()=>handleClick(data.id,data.lat,data.lng,data.name,data.pic,data.place,data.address,data.link,data.desc)}  key={index}>\n                                <div className='list'><div className='content' id={data.id}>{data.name}{data.place?<span onClick={()=>setIsOpen(!isOpen)}>{ isOpen ? <IoCaretUp/> : <IoCaretDown/>}</span>:null}</div></div> \n                                {\n                                    data.place && isOpen ?\n                                    <ul className='drop-menu'>\n                                        {\n                                            data.place.map((item,index)=>(\n                                                <li key={index}>{item}</li>\n                                            ))\n                                        } \n                                    </ul> : null\n                                }\n                            </div>\n                                ))\n                    }\n                    {/* <div className='list'><div className='content selected'>Merlion</div></div>\n                    <div className='list'><div className='content'>Marina Bay Sands <span onClick={()=>setIsOpen(!isOpen)}>{ isOpen ? <IoCaretUp/> : <IoCaretDown/>}</span></div></div>\n                      {\n                          isOpen ?\n                            <ul className='drop-menu'>\n                                <li>ArtScienceMuseum</li>\n                                <li>Marina Bay Sands Skypark</li>\n                                <li>Double Helix Bridge</li>\n                            </ul> : null\n                        \n                      }\n                    <div className='list'><div className='content'>Garden by the Bay <span><IoCaretDown/></span></div></div>\n                    <div className='list'><div className='content'>China Town <span><IoCaretDown/></span></div></div>\n                    <div className='list'><div className='content'>Asian Civilisations Museum</div></div>\n                    <div className='list'><div className='content'>Clarke Quay</div></div>\n                    <div className='list'><div className='content'>Fort Canning Park</div></div>\n                    <div className='list'><div className='content'>Singapore Flyer</div></div>\n                    <div className='list'><div className='content'>Orchard Road</div></div> */}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Menu\n"]},"metadata":{},"sourceType":"module"}